# ==========================================
# CodeHubot PBL Backend 环境配置示例
# 复制此文件为 .env 并修改相应配置
# ==========================================

# ==================== 应用运行配置 ====================
# 应用运行环境（development/production）
APP_ENV=development

# 应用主机和端口（仅本地开发需要，容器化部署由 docker-compose 管理）
# APP_HOST=0.0.0.0
# APP_PORT=8000

# 是否开启调试模式（生产环境务必设置为 false）
DEBUG=true

# ==================== JWT 认证配置 ====================
# JWT 密钥（请务必修改为随机字符串）
# 生成方法: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=change-me-to-random-string-in-production

# JWT 算法
ALGORITHM=HS256

# Access Token 过期时间（分钟）
ACCESS_TOKEN_EXPIRE_MINUTES=15

# Refresh Token 过期时间（分钟）
REFRESH_TOKEN_EXPIRE_MINUTES=10080

# Refresh Token 密钥（可选，不设置则使用 SECRET_KEY）
# REFRESH_TOKEN_SECRET_KEY=another-random-string-for-refresh-token

# ==================== 数据库配置 ====================
# MySQL 数据库连接配置（推荐使用此方式）
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_DATABASE=aiot_pbl
MYSQL_USER=pbl_user
MYSQL_PASSWORD=pbl_pass

# 数据库连接池配置
# DB_POOL_SIZE=10
# DB_MAX_OVERFLOW=20
# DB_POOL_TIMEOUT=30
# DB_POOL_RECYCLE=3600

# 替代配置方式（任选其一）：
# 方式2: 使用 DB_ 前缀
# DB_HOST=localhost
# DB_PORT=3306
# DB_NAME=aiot_pbl
# DB_USER=pbl_user
# DB_PASSWORD=pbl_pass

# 方式3: 直接提供完整的数据库连接URL
# DATABASE_URL=mysql+pymysql://pbl_user:pbl_pass@localhost:3306/aiot_pbl

# ==================== CORS 跨域配置 ====================
# 允许的跨域来源（多个用逗号分隔，* 表示允许所有）
CORS_ORIGINS=http://localhost:3000,http://localhost:8082

# ==================== 文件上传配置 ====================
# 上传文件存储路径（相对于项目根目录）
UPLOAD_DIR=uploads

# 上传文件大小限制（MB）
MAX_UPLOAD_SIZE=100

# 允许的文件类型（多个用逗号分隔）
ALLOWED_FILE_TYPES=.jpg,.jpeg,.png,.gif,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.zip,.rar

# ==================== 阿里云服务配置 ====================
# 阿里云访问凭证
ALIYUN_ACCESS_KEY_ID=your-aliyun-access-key-id
ALIYUN_ACCESS_KEY_SECRET=your-aliyun-access-key-secret

# 阿里云 VOD 视频点播服务配置
ALIYUN_VOD_REGION_ID=cn-beijing

# 阿里云 OSS 对象存储服务配置（如需使用）
# ALIYUN_OSS_BUCKET=your-bucket-name
# ALIYUN_OSS_ENDPOINT=oss-cn-beijing.aliyuncs.com

# ==================== 日志配置 ====================
# 日志级别（DEBUG/INFO/WARNING/ERROR/CRITICAL）
LOG_LEVEL=INFO

# 日志文件路径
# LOG_FILE=logs/app.log

# ==================== 其他配置 ====================
# API 文档是否启用（生产环境建议关闭）
ENABLE_DOCS=true

# 时区设置
TIMEZONE=Asia/Shanghai

# ==================== 容器化部署说明 ====================
# 容器化部署时：
# 1. 数据库主机名应改为容器服务名，例如：MYSQL_HOST=codehubot-mysql
# 2. 其他配置通过 docker/.env 文件统一管理
# 3. 确保 SECRET_KEY 等敏感信息使用强随机值